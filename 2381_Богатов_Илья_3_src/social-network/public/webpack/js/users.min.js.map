{"version":3,"file":"js/users.min.js","mappings":";mBACwB,CAACA,IACH,oBAAXC,QAA0BA,OAAOC,aAC1CC,OAAOC,eAAeJ,EAASC,OAAOC,YAAa,CAAEG,MAAO,WAE7DF,OAAOC,eAAeJ,EAAS,aAAc,CAAEK,OAAO,GAAO,OCL9DC,GAAE,WASE,IAAIC,EAPJD,EAAE,0BAA0BE,GAAG,QAAS,MAAM,SAAUC,GACpD,IAAIH,EAAEG,EAAEC,QAAQC,QAAQ,eAAeC,OAAvC,CACA,IAAMC,EAAKP,EAAEQ,MAAMC,KAAK,MACpBF,IAAIG,OAAOC,SAASC,KAAO,UAAHC,OAAaN,EAAE,KAFU,CAGzD,IAyBAP,EAAE,oBAAoBE,GAAG,QAAS,eAAe,SAAUC,GAGvD,IAxBsBW,EAAQC,EACxBC,EAqBNb,EAAEc,iBACFd,EAAEe,kBAvBoBJ,EAwBXd,EAAEQ,MAAMC,KAAK,MAxBMM,EAyBT,SAAUI,GAC3BnB,EAAEoB,KAAK,CACHC,IAAK,aAAFR,OAAeM,GAClBG,OAAQ,SACRC,QAAS,WAELvB,EAAE,eAADa,OAAgBM,EAAG,OAAMK,QAC9B,EACAC,MAAO,SAAUC,GACbC,MAAMD,EAAIE,cAAgB,kBAC9B,GAER,GApCMZ,EAAUhB,EAAE,kBACV6B,IAAIf,GACPb,IACDA,EAAUD,EAAE,kBAAkB8B,OAAO,CACjCC,UAAU,EACVC,OAAO,EACPC,QAAS,CACL,QAAW,WACP,IAAM1B,EAAKS,EAAQa,MACnBd,GAAaA,EAAUR,GACvBP,EAAEQ,MAAMsB,OAAO,QACnB,EACA,OAAU,WAAc9B,EAAEQ,MAAMsB,OAAO,QAAU,MAI7D7B,EAAQ6B,OAAO,OAqBnB,GACJ","sources":["webpack://social-network/webpack/runtime/make namespace object","webpack://social-network/./js/users.js"],"sourcesContent":["// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","$(function () {\n    // Навигация по клику на строку (кроме кнопок действий)\n    $('table#usersTable tbody').on('click', 'tr', function (e) {\n        if ($(e.target).closest('.no-row-nav').length) return; // игнор\n        const id = $(this).data('id');\n        if (id) window.location.href = `/users/${id}/`;\n    });\n\n    // Диалог подтверждения удаления\n    let $dialog;\n    function openDeleteDialog(userId, onConfirm) {\n        const $hidden = $('#deleteUserId');\n        $hidden.val(userId);\n        if (!$dialog) {\n            $dialog = $('#confirmDialog').dialog({\n                autoOpen: false,\n                modal: true,\n                buttons: {\n                    'Удалить': function () {\n                        const id = $hidden.val();\n                        onConfirm && onConfirm(id);\n                        $(this).dialog('close');\n                    },\n                    'Отмена': function () { $(this).dialog('close'); }\n                }\n            });\n        }\n        $dialog.dialog('open');\n    }\n\n    // Кнопка удаления пользователя\n    $('table#usersTable').on('click', '.btn-delete', function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const id = $(this).data('id');\n        openDeleteDialog(id, function (uid) {\n            $.ajax({\n                url: `/api/user/${uid}`,\n                method: 'DELETE',\n                success: function () {\n                    // удалить строку без перезагрузки\n                    $(`tr[data-id=\"${uid}\"]`).remove();\n                },\n                error: function (xhr) {\n                    alert(xhr.responseText || 'Ошибка удаления');\n                }\n            });\n        });\n    });\n});\n"],"names":["exports","Symbol","toStringTag","Object","defineProperty","value","$","$dialog","on","e","target","closest","length","id","this","data","window","location","href","concat","userId","onConfirm","$hidden","preventDefault","stopPropagation","uid","ajax","url","method","success","remove","error","xhr","alert","responseText","val","dialog","autoOpen","modal","buttons"],"sourceRoot":""}